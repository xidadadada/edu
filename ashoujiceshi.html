<html>
<body>
    <script type="text/javascript" src="../edu/day.js">
</script>
<script type="text/javascript" src="../edu/ps.js">
</script>
<div class=“rich_media_area_primary” style="margin:0px auto; width:800px;">
                
<div class="rich_media_area_primary">
                
                <h2 class="rich_media_title" title="Android 手机自动化测试">Android 手机自动化测试</h2>
                <div class="rich_media_meta_list">
                    <!-- <span class="rich_media_meta meta_original_tag dn">原创</span>
                    <a class="rich_media_meta meta_enterprise_tag" href="javascript:;"><img src="http://mmbiz.qpic.cn/mmbiz_jpg/QpRnoicU4ABbOPuPdO5LdEerNmZokInOej6FKiaaqpce1ictPWGHziaOwKRIicLico6z0zqaY95YebBcOkbT6Libf7Q7Q/0?wx_fmt=jpeg"></a> -->
                    <em class="rich_media_meta rich_media_meta_text">2018-02-24</em>
                    <em class="rich_media_meta rich_media_meta_text"></em>
                    <span class="rich_media_meta rich_media_meta_link" title="请发送到手机查看完整效果">学习交流</span>
                </div>
                
                              
                <div class="rich_media_content">
                    
                    <p>测试关键是“定位问题”。需要有能力去判断这个问题是前端还是后端的，如果是后端的，那么通过各个系统日志和调用关系发现问题出在什么系统上。如果是前端，那么需要去发现是框架层的，还是组建层的，还是业务方等等。无论功能测试、自动化测试或者其他，定位问题都是通用的要求。</p><p><br></p><ul style="margin-left: 14px;" class=" list-paddingleft-2"><li><p>常见应用模式<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><ul style="list-style-type: square;margin-left: 14px;" class=" list-paddingleft-2"><li><p>Native</p></li><li><p>Hybrid</p></li><li><p>H5 App</p></li><li><p>ReactNative：<span style="color: rgb(51, 51, 51);font-family: arial, 宋体, sans-serif;font-size: 14px;text-indent: 28px;background-color: rgb(255, 255, 255);">Facebook的UI框架 React 应用于移动平台，支持iOS和安卓。</span><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li></ul><li><p>常用工具<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><ul style="list-style-type: square;margin-left: 14px;" class=" list-paddingleft-2"><li><p>lldb：<span style="color: rgb(47, 47, 47);font-family: -apple-system, 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;font-size: 16px;background-color: rgb(255, 255, 255);">XCode内置调试工具</span></p></li><li><p>libimobiledevice 套件：<span style="color: rgb(47, 47, 47);font-family: -apple-system, 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;font-size: 16px;background-color: rgb(255, 255, 255);">开源包，让Linux支持连接iOS设备</span></p></li><li><p>codesign：代码签名</p></li><li><p>instruments：<span style="color: rgb(47, 47, 47);font-family: -apple-system, 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;font-size: 16px;background-color: rgb(255, 255, 255);">Xcode自带的检测调试工具</span></p></li><li><p>xcodebuild：命令行打包</p></li><li><p>atos：命令行分析ios app crash log</p></li><li><p>xcrun：<span style="font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;background-color: rgb(255, 255, 255);">ipa打包工具</span><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><li><p>Android sdk manager</p></li><li><p>adb</p></li><li><p>ddms</p></li><li><p>ant：<span style="color: rgb(51, 51, 51);font-family: 'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, u5b8bu4f53;font-size: 16px;background-color: rgb(255, 255, 255);">基于Java的build工具</span></p></li><li><p>aapt：<span style="color: rgb(34, 34, 34);font-family: tahoma, arial, 'Microsoft YaHei';font-size: 14px;background-color: rgb(255, 255, 255);">查看、 创建、 更新ZIP格式的文档附件(zip, jar, apk)。 也可将资源文件编译成二进制文件</span></p></li><li><p>Genymotion：安卓模拟器</p></li><li><p>hierarchyviewer：安卓ui优化，需要root过</p></li><li><p>monitor：安卓sdk工具，<span style="color: rgb(47, 47, 47);font-family: -apple-system, 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;font-size: 16px;">heap分析内存泄漏，关注data object的total size这个数据，在用例执行后是否会增长（不管是慢还是快，都表示有可能存在内存泄漏）</span></p></li><li><p>monkey</p></li><li><p>monkeyrunner</p></li><li><p>uiautomator<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p><p><br></p></li></ul><li><p>常用UI Automation框架</p></li></ul><p><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p><ul style="margin-left: 14px;" class=" list-paddingleft-2"><ul style="list-style-type: square;margin-left: 14px;" class=" list-paddingleft-2"><li><p>UIAutomation：iOS自动化测试工具</p></li><li><p>XCUITesting</p></li><li><p>KIF</p></li><li><p>Frank</p></li><li><p>appium</p></li><li><p>ios-driver</p></li><li><p>monkeytalk</p></li><li><p>Calabash-iOS</p></li><li><p>TuneupJs</p></li><li><p>ynm3k<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><li><p>Instrumentation</p></li><li><p>Athrun</p></li><li><p>Robotium</p></li><li><p>Monkey</p></li><li><p>Monkeyrunner</p></li><li><p>uiautomator</p></li><li><p>Selendroid</p></li><li><p>Calabash-Android</p></li><li><p>monkeytalk</p></li><li><p>Appium</p></li><li><p>Espresso：<span style="color: rgb(79, 79, 79);font-family: 'PingFang SC', 'Microsoft YaHei', SimHei, Arial, SimSun;font-size: 16px;text-align: justify;background-color: rgb(255, 255, 255);">google官方大力推荐的一套测试框架，可单元测试</span></p></li><li><p>cafe：baidu android自动化测试<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p><p><br></p></li></ul><li><p>常用<span style="word-break: break-all;line-height: normal;text-decoration:underline;"><strong style="word-break: break-all;line-height: normal;">单元测试</strong></span>框架<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><ul style="list-style-type: square;margin-left: 14px;" class=" list-paddingleft-2"><li><p>OCUnit</p></li><li><p>GHUnit</p></li><li><p>XCTest</p></li><li><p>OCMock</p></li><li><p>OCMockito</p></li><li><p>Expecta</p></li><li><p>OCHamcrest<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><li><p>robolectric</p></li><li><p>Instrumentation</p></li><li><p>Mockito</p></li><li><p>RxJava<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p><p><br></p></li></ul><li><p>常用动态更新<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><ul style="list-style-type: square;margin-left: 14px;" class=" list-paddingleft-2"><li><p>ReactNative</p></li><li><p>waxpatch/wax</p></li><li><p>ota<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li></ul><li><p>常用性能工具<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"><br></p></li><ul style="list-style-type: square;margin-left: 14px;" class=" list-paddingleft-2"><li><p>findbugs</p></li><li><p>lint</p></li><li><p>infer</p></li><li><p>CheckStyle</p></li><li><p>PMD<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><li><p>scan-build</p></li><li><p>oclint</p></li><li><p>infer</p></li><li><p>tcpdump</p></li><li><p>wireshark</p></li><li><p>埋点</p></li><li><p>腾讯GT</p></li><li><p>网易Emmagee<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><li><p>gfxinfo</p></li><li><p>dumpsys</p></li><li><p>traceview</p></li><li><p>systrace</p></li><li><p>GameBench</p></li><li><p>battery-historian<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><li><p>Core Animation(instruments)</p></li><li><p>Network(instruments)</p></li><li><p>TimeProfiler(instruments)</p></li><li><p>Zombies(instruments)</p></li><li><p>MAT</p></li><li><p>ddms</p></li><li><p>Memory Monitor</p></li><li><p>Allocation Tracker</p></li><li><p>LeakCanary</p></li><li><p>dumpsys</p></li><li><p>procrank</p></li><li><p>top<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><li><p>Memory Leaks<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><li><p>iOS developer mode</p></li><li><p>ATC</p></li><li><p>Charles<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><li><p>Charles</p></li><li><p>fiddler</p></li><li><p>burpsuite</p></li><li><p>tcpdump</p></li><li><p>anyproxy<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><li><p>抓包<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><li><p>弱网模拟<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p><p><br></p></li></ul><li><p>安全<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><ul style="list-style-type: square;margin-left: 14px;" class=" list-paddingleft-2"><li><p>IDB</p></li><li><p>iRET</p></li><li><p>DVIA</p></li><li><p>LibiMobileDevice</p></li><li><p>otool<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><li><p>Drozer</p></li><li><p>apktool</p></li><li><p>dex2jar</p></li><li><p>proguard</p></li><li><p>加固</p></li><li><p>exported/permission</p></li><li><p>AndBug</p></li><li><p>androguard</p></li><li><p>Xposed<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p><p><br></p></li></ul><li><p>abtest<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><ul style="list-style-type: square;margin-left: 14px;" class=" list-paddingleft-2"><li><p>AB Tester</p></li><li><p>AppAdhocOptimizer</p></li><li><p><span style="word-break: break-all;line-height: normal;text-decoration:underline;"><strong style="word-break: break-all;line-height: normal;">Google</strong></span>&nbsp;Website Optimizer</p></li><li><p>Visual Website Optimizer<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li></ul><li><p>常用灰度测试工具<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><ul style="list-style-type: square;margin-left: 14px;" class=" list-paddingleft-2"><li><p>testflight</p></li><li><p>蒲公英：内测平台</p></li><li><p>fir：内测平台</p></li><li><p>pre：pre.im<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li></ul><li><p>常用云测平台<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><ul style="list-style-type: square;margin-left: 14px;" class=" list-paddingleft-2"><li><p>testin</p></li><li><p>MQC</p></li><li><p>MTC<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li></ul><li><p>常用持续集成平台／相关工具<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><ul style="list-style-type: square;margin-left: 14px;" class=" list-paddingleft-2"><li><p>xctool</p></li><li><p>Cocoapods：<span style="color: rgb(51, 51, 51);font-family: arial;font-size: 13px;background-color: rgb(255, 255, 255);">iOS最常用最有名的类库管理工具</span><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><li><p>mvn：<span style="font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 13px;background-color: rgb(254, 254, 242);">Ant的基础上提供了依赖管理和发布的功能</span></p></li><li><p>gradle：Maven上<strong>使用Groovy管理构建脚本</strong>，不再使用XML</p></li><li><p>Jenkins</p></li><li><p>Travis CI</p><p><br></p></li></ul><li><p>多语言开发应用<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><ul style="list-style-type: square;margin-left: 14px;" class=" list-paddingleft-2"><li><p>SL4A: 安卓脚本层</p></li><li><p>gomobile：<span style="color: rgb(51, 51, 51);font-family: -apple-system, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Arial, sans-serif;font-size: 16px;background-color: rgb(255, 255, 255);">支持ios &amp; android，支持全部用go来写app</span></p><p><span style="color: rgb(51, 51, 51);font-family: -apple-system, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Arial, sans-serif;font-size: 16px;background-color: rgb(255, 255, 255);"></span><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li></ul><li><p>多设备远程管理平台<br style="word-break: break-all;line-height: normal;word-wrap: break-word;"><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p></li><ul style="list-style-type: square;margin-left: 14px;" class=" list-paddingleft-2"><li><p>STF：<span style="color: rgb(78, 98, 122);font-family: 'Avenir Next', Avenir, 'Helvetica Neue', Helvetica, 'Nimbus Sans L', Arial, 'Liberation Sans', 'PingFang SC', 'Hiragino Sans GB', 'Source Han Sans CN', 'Source Han Sans SC', 'Microsoft YaHei', 'Wenquanyi Micro Hei', 'WenQuanYi Zen Hei', 'ST Heiti', SimHei, 'WenQuanYi Zen Hei Sharp', sans-serif;font-size: 14px;background-color: rgb(255, 255, 255);">通过浏览器控制多台智能手机</span><br style="word-break: break-all;line-height: normal;word-wrap: break-word;"></p><p><br></p></li></ul></ul><p><strong>1、Monkey</strong>是Android SDK自带的测试工具，在测试过程中会向系统发送伪随机的用户事件流，如按键输入、触摸屏输入、手势输入等,<span style="color: rgb(26, 26, 26);font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;font-size: 15px;white-space: pre-wrap;">编写脚本做简单的自动化测试，但局限性非常大，例如无法进行截屏操作，不能简单的支持插件的编写，没有好的办法控制事件流，不支持录制回放等。利用好Monkey的优势，如不需源码，不需编译就可以直接运行。</span><br></p><p><strong>2、MonkeyRunner</strong>也是Android SDK提供的测试工具。可以编写测试脚本来自定义数据、事件,用Python来写。<span style="color: rgb(26, 26, 26);font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;font-size: 15px;white-space: pre-wrap;">有很多强大并好用的API，并且支持录制回放和截图操作。同样它也不需源码，不需编译就可以直接运行。但MonkeyRunner和Monkey类似，也是基于控件坐标进行定位的，这样的定位方式极易导致回放失败。</span></p><p><strong>3、Instrumentation</strong>是早期Google提供的Android自动化测试工具类，虽然在那时候JUnit也可以对Android进行测试，但是Instrumentation允许你对应用程序做更为复杂的测试，甚至是框架层面的。<span style="color: rgb(26, 26, 26);font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;font-size: 15px;white-space: pre-wrap;background-color: rgb(255, 255, 255);">主要是依靠控件的ID来进行定位的，拥有成熟的用例管理系统，是Android主推的白盒测试框架。</span>通过Instrumentation你可以模拟按键按下、抬起、屏幕点击、滚动等事件。Instrumentation是通过将主程序和测试程序运行在同一个进程来实现这些功能，你可以把Instrumentation看成一个类似Activity或者Service并且不带界面的组件，在程序运行期间监控你的主程序。缺点是对测试人员来说编写代码能力要求较高，需要对Android相关知识有一定了解，还需要配置AndroidManifest.xml文件，不能跨多个App。</p><p><strong>4、UiAutomator</strong>也是Android提供的自动化测试框架，基本上支持所有的Android事件操作，对比Instrumentation它不需要测试人员了解代码实现细节（可以用UiAutomatorviewer抓去App页面上的控件属性而不看源码）。基于Java，测试代码结构简单、编写容易、学习成本，一次编译，所有设备或模拟器都能运行测试，能跨App（比如：很多App有选择相册、打开相机拍照，这就是跨App测试）。缺点是只支持SDK 16（Android 4.1）及以上，不支持Hybird App、WebApp。</p><p><strong>5、Espresso</strong>是Google的开源自动化测试框架。相对于Robotium和UIAutomator，它的特点是规模更小、更简洁，API更加精确，编写测试代码简单，容易快速上手。因为是基于Instrumentation的，所以不能跨App。</p><p><strong>6、Selendroid：</strong>也是基于Instrumentation的测试框架，可以测试Native App、Hybird App、Web App，但是网上资料较少。</p><p><strong>7、Robotium</strong>也是基于Instrumentation的测试框架，目前国内外用的比较多，资料比较多，社区也比较活跃。缺点是对测试人员来说要有一定的Java基础，了解Android基本组件，不能跨App。</p><p><strong>8、Athrun</strong>是淘宝出的一个移动测试框架/平台，同时支持iOS和Android。Android部分也是基于Instrumentation，在Android原有的ActivityInstrumentationTestCase2类基础上进行了扩展，提供一整套面向对象的API。</p><p><strong>9、Appium</strong>是最近比较热门的框架，社区也很活跃。这个框架应该是是功能最强大的，</p><ul class=" list-paddingleft-2"><li><p><strong>它的优点：</strong></p></li><ul class=" list-paddingleft-2" style="list-style-type: square;"><li><p>在iOS部分是封装了UIAutomation；Android 4.2以上是用UiAutomator，Android 2.3 ~ 4.1用的是 Instrumentation，也就说Appium同时封装了UiAutomator和Instrumentation。所以Appium拥有了以上几大框架的所有优点：跨App，支持Native App、Hybird App、Web App，还支持N种语言来编写你的测试脚本。</p></li><li><p>如果你在Windows使用Appium，你没法使用预编译专用于OS X的.app文件，因为Appium依赖OS X专用的库来支持iOS测试，所以在Windows平台你不能测试iOS Apps。这意味着你只能通过在Mac上来运行iOS测试。</p></li><li><p>Client/Server架构，运行的时候Server端会监听Client端发过来的命令，翻译这些命令发送给移动设备或模拟器，然后移动设备或模拟器做出响应的反应。正是因为这种架构，所以Client可以使用Appium client libraries<em class="icon-external"></em>多种语言的测试脚本，而且Server端完全可以部署在服务器上，甚至云服务器。</p></li><li><p>Session，每个Client连接到Server以后都会有一个Session ID，而且Client发送命令到Server端都需要这个Session ID，因为这个seesion id代表了你所打开的浏览器或者是移动设备的模拟器。所以你甚至可以打开N个Session，同时测试不同的设备或模拟器。</p></li><li><p>Desired Capabilities，其实就是一个键值对，设置一些测试的相关信息来告诉Server端，我们需要测试iOS、还是Android，或者换是WebApp等信息。</p></li><li><p>Appium Server是Node.js写的，所以可以直接用NPM来进行安装。</p></li><li><p>Appium Clients，Mac OS和Win下提供GUI，不需要装Node.js，方便测试人员操作。</p></li><li><p>用Appium自动化测试不需要重新编译App；</p></li><li><p>支持很多语言来编写测试脚本，Java、Javascript、PHP、Python、C#、Ruby等主流语言；</p></li><li><p>不需要为了自动化测试来重造轮子，因为扩展了WebDriver。（WebDriver是测试WebApps的一种简单、快速的自动化测试框架，所以有Web自动化测试经验的测试人员可以直接上手）；</p></li><li><p>移动端自动化测试应该是开源的；</p></li><li><p>开源；</p></li><li><p>支持Native App、Hybird App、Web App；</p></li><li><p>支持Android、iOS、Firefox OS；</p></li><li><p>Server也是跨平台的，你可以使用Mac OS X、Windows或者Linux；</p></li></ul></ul><p><br></p><p style="margin-bottom: 16px;box-sizing: border-box;font-size: 16px;color: rgb(79, 79, 79);line-height: 26px;text-align: justify;font-family: 'PingFang SC', 'Microsoft YaHei', SimHei, Arial, SimSun;white-space: normal;">10. Robotium是一款国外的自动化测试框架，是一款免费的Android UI测试工具，主要针对Android平台的应用进行黑盒自动化测试，它提供了模拟各种手势操作（点击、长按、滑动等）、查找和断言机制的API，能够对各种控件进行操作。&nbsp;Robotium测试脚本是用java写的，不必为每个设备编写脚本。短板在于它不适合与系统软件的交互。</p><p><br></p><p>ps:</p><p><br></p><p><span style="color: rgb(44, 48, 51);font-family: 'PingFang SC', 'Microsoft YaHei', SimHei, Arial, SimSun;font-size: 18px;font-weight: 700;background-color: rgb(255, 255, 255);">Android测试之Robotium自动化测试框架</span></p><p>http://blog.csdn.net/syz50113/article/details/73196807</p>
                    
                </div>
                
                
                
            </div>
          
        <script type="text/javascript" src="../edu/tongji.js">
</script>
</body>
</html>
